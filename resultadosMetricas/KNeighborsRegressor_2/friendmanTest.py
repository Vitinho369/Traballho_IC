import numpy as np
from scipy.stats import friedmanchisquare

# Resultados do R2 para cada configuração do KNeighborsRegressor
results = np.array([
    [0.95192819, 0.94826823, 0.9530996,  0.95534074, 0.95615324, 0.95424748,
     0.94932618, 0.94840432, 0.95089793, 0.95105665],  # KNeighborsRegressor_20
    [0.94754627, 0.9526143,  0.95339066, 0.94632442, 0.95250287, 0.9512532,
     0.94995088, 0.95108036, 0.96008355, 0.948445],    # KNeighborsRegressor_21
    [0.95033324, 0.95389627, 0.9554288,  0.95249326, 0.96044102, 0.95272501,
     0.94705251, 0.94570394, 0.95325008, 0.94898312],  # KNeighborsRegressor_22
    [0.95275697, 0.94806696, 0.9515681,  0.9512645,  0.95437242, 0.94459186,
     0.95395425, 0.95668181, 0.95517252, 0.95134121],  # KNeighborsRegressor_23
    [0.95224972, 0.94954435, 0.95692059, 0.9483149,  0.95050741, 0.95078351,
     0.94429478, 0.96037072, 0.95648719, 0.95079546],  # KNeighborsRegressor_24
    [0.94550547, 0.95370457, 0.95812686, 0.95285981, 0.95825588, 0.95315856,
     0.94313759, 0.94812689, 0.95714752, 0.9535039],   # KNeighborsRegressor_25
    [0.95591018, 0.94903792, 0.95433877, 0.94878577, 0.94531359, 0.95828908,
     0.94912971, 0.95330804, 0.9577409,  0.94734661],  # KNeighborsRegressor_26
    [0.95822657, 0.95340101, 0.96172806, 0.95928117, 0.95715841, 0.95578443,
     0.95917659, 0.95875293, 0.9606306,  0.96219536],  # KNeighborsRegressor_27
    [0.9491151,  0.96005045, 0.95970056, 0.96312588, 0.96268851, 0.95903735,
     0.95190093, 0.95577014, 0.95410134, 0.96546751],  # KNeighborsRegressor_28
    [0.95963279, 0.95545308, 0.9591035,  0.96004927, 0.96189966, 0.96151609,
     0.9589462,  0.95359679, 0.95701873, 0.96109456]   # KNeighborsRegressor_29
])

# Realizar o teste de Friedman
statistic, p_value = friedmanchisquare(*results)
output_text = f"Estatística de Friedman: {statistic}\nValor-p: {p_value}"

# Salvar os resultados em um arquivo de texto
with open("KnnRegressorTest_2.txt", "w") as file:
    file.write(output_text)
